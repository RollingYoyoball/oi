啊哈哈哈这题。。写了好久啊qwq所以说我到底是怎么知道思路之后还是写了一个上午的qwq哎呀呀不管了反正a掉的瞬间超级有成就感就是了嗯ovo



额其实思路的话。。首先还是先化简一下题目吧

要判断一个点是否在已经给出的所有的圆（这些圆都是过原点的）内

那么显然如果要判断一个点$(x, y)$是否在圆心为$(x_0,y_0)$的圆内的话。。只要满足

$(x - x_0)^2 + (y - y_0)^2 <= x_0^2 + y_0^2$就说明在圆内

把这个式子稍微变形一下就可以得到

$x^2 - 2 x x_0 + x_0^2 + y^2 - 2 y y_0 + y_0^2 <= x_0^2 + y_0^2$

然后得到

$y^2 + x^2 - 2 (x x_0 + y y_0) <= 0$

然后到这里网上很多做法就是再变变成一个半平面交的形式$(ax + by + c >=0 或 <=0)$

然后用各种高大上的斜率啊什么鬼的去搞qwq然而我比较菜啊qwq不会啊。。

所以就用了这个比较。。相对低端的方法咯qwq

（但其实个人认为思路更加简单）

可以观察到$xx_0 + yy_0$其实就是向量点积的形式，然后如果说一个点要输出yes的话那么所有的圆心都要满足上面的那条式子，那只要这么多圆心中的最大值<=0就可以了

对所有的已经加入的圆心求出上凸包和下凸包

然后我们有结论当$y>0$的时候点积的最大值在上凸包上，$y<0$时则在下凸包上（详见bzoj3533）

这里点积前面的系数是负数，要得到式子的最大值就要求最小值

那么最小值的话。。就是反过来咯qwq

所以就是如果$y>0$在下凸包上面找，$y<0$在上凸包上面找

找法的话跟bzoj3533一样的三分就好啦



那么现在剩下的问题就是。。如何维护凸包嘞？

重新看看题目

1.离线操作

2.有添加和询问

3.圆这个东西好像。。用数据结构什么的乱搞极其恶心

综上：cdq分治呀哈哈哈哈！！（啥啊qwq）

好吧总之就是用分治思想啦

先按时间分治。。然后处理前一半的添加和后一半的查询

简短到令人手舞足蹈ovo



然后就做完啦ovo

（甚至没有任何跟边界有关的恶心玩意哈哈哈哈超级高兴）



至于为什么调了一个上午。。。

额。。求凸包的时候。。记得下标指针要初始化嗯。。